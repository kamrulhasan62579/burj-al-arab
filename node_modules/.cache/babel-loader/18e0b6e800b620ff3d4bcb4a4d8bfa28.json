{"ast":null,"code":"var _jsxFileName = \"C:\\\\WebDevelopment\\\\react\\\\burj-al-arab-3\\\\src\\\\Components\\\\Login\\\\Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useState } from 'react';\nimport './Login.css';\nimport { useForm } from 'react-hook-form';\nimport firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport firebaseConfig from './firebaseConfig';\nimport { UserContext } from '../../App';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nif (!firebase.apps.length) {\n  firebase.initializeApp(firebaseConfig);\n} else {\n  firebase.app(); // if already initialized, use that one\n}\n\nconst Login = () => {\n  _s();\n\n  const [loggedInUser, setLoggedInUser] = useContext(UserContext);\n  const [newUser, setNewUser] = useState(false);\n  const {\n    register,\n    handleSubmit,\n    formState: {\n      errors\n    }\n  } = useForm();\n  const history = useHistory();\n  const location = useLocation();\n  let {\n    from\n  } = location.state || {\n    from: {\n      pathname: \"/\"\n    }\n  };\n\n  const onSubmit = data => {\n    console.log(data.Password, data.Email);\n\n    if (newUser) {\n      firebase.auth().createUserWithEmailAndPassword(data.Email, data.Password).then(res => {\n        console.log('Creating user successfull');\n        setLoggedInUser(data);\n        history.replace(from);\n      }).catch(error => {\n        console.log(error.message);\n      });\n    }\n\n    if (!newUser) {\n      firebase.auth().signInWithEmailAndPassword(data.Email, data.Password).then(res => {\n        console.log('user login successfull');\n        setLoggedInUser(data);\n        history.replace(from);\n      }).catch(error => {\n        console.log(error.message);\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [newUser ? /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit(onSubmit),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"newUserForm\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"input\",\n          type: \"text\",\n          placeholder: \"First name\",\n          ...register(\"firstName\", {\n            required: true,\n            maxLength: 8\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 14\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 14\n        }, this), errors.firstName && errors.firstName.type === \"required\" && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"error\",\n          children: \"First name is required\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 80\n        }, this), errors.firstName && errors.firstName.type === \"maxLength\" && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"error\",\n          children: \"Max length exceeded\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 76\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 14\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"input\",\n          type: \"text\",\n          placeholder: \"Last name\",\n          ...register(\"lastName\", {\n            required: true,\n            maxLength: 8\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 14\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 14\n        }, this), errors.firstName && errors.firstName.type === \"required\" && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"error\",\n          children: \"Last name is required\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 80\n        }, this), errors.firstName && errors.firstName.type === \"maxLength\" && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"error\",\n          children: \"Max length exceeded\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 76\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 14\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"input\",\n          type: \"text\",\n          placeholder: \"Email\",\n          ...register(\"email\", {\n            required: true,\n            pattern: /\\S+@\\S+\\.\\S+/\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 14\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 14\n        }, this), errors.email && errors.email.type === \"required\" && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"error\",\n          children: \"Email is required\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 72\n        }, this), errors.email && errors.email.type === \"pattern\" && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"error\",\n          children: \"You should insert email like  /\\\\S+@\\\\S+\\\\.\\\\S+/ pattern\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 66\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 14\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"input\",\n          type: \"tel\",\n          placeholder: \"Mobile number\",\n          ...register(\"number\", {\n            required: true,\n            minLength: 6,\n            maxLength: 12\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 14\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 14\n        }, this), \" \", errors.number && errors.number.type === \"required\" && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"error\",\n          children: \"Mobile number is required\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 75\n        }, this), errors.number && errors.number.type === \"maxLength\" && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"error\",\n          children: \"Max length exceeded\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 70\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 14\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"input\",\n          type: \"password\",\n          placeholder: \"Password\",\n          ...register(\"Password\", {\n            required: true,\n            pattern: /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[#$@!%&*?])[A-Za-z\\d#$@!%&*?]{8,30}$/,\n            minLength: 8,\n            maxLength: 30\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 14\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 14\n        }, this), \" \", errors.Password && errors.Password.type === \"required\" && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"error\",\n          children: \"Password is required\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 79\n        }, this), errors.Password && errors.Password.type === \"pattern\" && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"error\",\n          children: \"Password must have min 1 uppercase letter, min 1 lowercase letter, min 1 special character, min 1 number, min 8 characters, max 30 characters.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 72\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 14\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"radioInput\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Are you a developer?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 18\n          }, this), \"  \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 53\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"Developer\",\n            children: \"1. Yes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 22\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"input\", { ...register(\"Developer\", {\n              required: true\n            }),\n            type: \"radio\",\n            value: \"Yes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 64\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 147\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"Developer\",\n            children: \"2. No\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 22\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"input\", { ...register(\"Developer\", {\n              required: true\n            }),\n            type: \"radio\",\n            value: \"No\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 63\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 18\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 14\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"input\",\n          value: \"Submit\",\n          type: \"submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 14\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 10\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 20\n    }, this) : /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit(onSubmit),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"newUserForm\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"input\",\n          type: \"text\",\n          placeholder: \"Email\",\n          ...register(\"email\", {\n            required: true\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 13\n        }, this), errors.email && errors.email.type === \"required\" && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"error\",\n          children: \"Email is required\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 71\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"input\",\n          type: \"password\",\n          placeholder: \"Password\",\n          ...register(\"password\", {\n            required: true\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 13\n        }, this), \" \", errors.password && errors.password.type === \"required\" && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"error\",\n          children: \"Password is required\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 78\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"input\",\n          value: \"Submit\",\n          type: \"submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 6\n    }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 8\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        textAlign: 'center'\n      },\n      children: [\"Already have an account? \", /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          color: 'blue'\n        },\n        onClick: () => setNewUser(!newUser),\n        children: \"Log In\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 64\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 6\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 4\n  }, this);\n};\n\n_s(Login, \"xpZ4vYOIwAJv7v5Hdzxca/lmjZ8=\", false, function () {\n  return [useForm, useHistory, useLocation];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["C:/WebDevelopment/react/burj-al-arab-3/src/Components/Login/Login.js"],"names":["React","useContext","useState","useForm","firebase","firebaseConfig","UserContext","useHistory","useLocation","apps","length","initializeApp","app","Login","loggedInUser","setLoggedInUser","newUser","setNewUser","register","handleSubmit","formState","errors","history","location","from","state","pathname","onSubmit","data","console","log","Password","Email","auth","createUserWithEmailAndPassword","then","res","replace","catch","error","message","signInWithEmailAndPassword","required","maxLength","firstName","type","pattern","email","minLength","number","password","textAlign","color"],"mappings":"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","sourcesContent":["import React, { useContext, useState } from 'react';\r\nimport './Login.css'\r\nimport { useForm } from 'react-hook-form';\r\nimport firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport firebaseConfig from './firebaseConfig';\r\nimport { UserContext } from '../../App';\r\nimport { useHistory, useLocation } from 'react-router-dom';\r\n\r\nif (!firebase.apps.length) {\r\n    firebase.initializeApp(firebaseConfig);\r\n }else {\r\n    firebase.app(); // if already initialized, use that one\r\n }\r\n\r\n\r\nconst Login = () => {\r\n    const [loggedInUser, setLoggedInUser] = useContext(UserContext);\r\n  const [newUser, setNewUser] = useState(false)\r\n  const { register, handleSubmit, formState: { errors } } = useForm();\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n  let { from } = location.state || { from: { pathname: \"/\" } };\r\n  const onSubmit = data => {\r\n        console.log(data.Password, data.Email)\r\n       if (newUser) {\r\n        firebase.auth().createUserWithEmailAndPassword(data.Email, data.Password)\r\n        .then((res) => {\r\n         console.log('Creating user successfull');\r\n         setLoggedInUser(data)\r\n         history.replace(from);\r\n        })\r\n        .catch((error) => {\r\n          console.log(error.message);\r\n        });\r\n       }\r\n       if (!newUser) {\r\n            firebase.auth().signInWithEmailAndPassword(data.Email, data.Password)\r\n            .then((res) => {\r\n           console.log('user login successfull');\r\n           setLoggedInUser(data)\r\n           history.replace(from);\r\n            })\r\n            .catch((error) => {\r\n            console.log(error.message);\r\n            });\r\n       }\r\n    };\r\n\r\n  return (\r\n   <div>\r\n     {\r\n         newUser ? <form onSubmit={handleSubmit(onSubmit)}>\r\n         <div className=\"newUserForm\">\r\n             <input className=\"input\" type=\"text\" placeholder=\"First name\" {...register(\"firstName\", {required: true, maxLength: 8})} /> \r\n             <br/>{errors.firstName && errors.firstName.type === \"required\" && <span className=\"error\">First name is required</span>}\r\n             {errors.firstName && errors.firstName.type === \"maxLength\" && <span className=\"error\">Max length exceeded</span> }\r\n             <br/>\r\n             <input className=\"input\" type=\"text\" placeholder=\"Last name\" {...register(\"lastName\", {required: true, maxLength: 8})} />\r\n             <br/>{errors.firstName && errors.firstName.type === \"required\" && <span className=\"error\">Last name is required</span>}\r\n             {errors.firstName && errors.firstName.type === \"maxLength\" && <span className=\"error\">Max length exceeded</span> }\r\n             <br/>\r\n             <input className=\"input\" type=\"text\" placeholder=\"Email\" {...register(\"email\", {required: true, pattern: /\\S+@\\S+\\.\\S+/})} />    \r\n             <br/>{errors.email && errors.email.type === \"required\" && <span className=\"error\">Email is required</span>}\r\n             {errors.email && errors.email.type === \"pattern\" && <span className=\"error\">You should insert email like  /\\S+@\\S+\\.\\S+/ pattern</span> }\r\n             <br/>\r\n             <input className=\"input\" type=\"tel\" placeholder=\"Mobile number\" {...register(\"number\", {required: true, minLength: 6, maxLength: 12})} />   \r\n             <br/> {errors.number && errors.number.type === \"required\" && <span className=\"error\">Mobile number is required</span>}\r\n             {errors.number && errors.number.type === \"maxLength\" && <span className=\"error\">Max length exceeded</span> }\r\n             <br/>\r\n             <input className=\"input\" type=\"password\" placeholder=\"Password\" {...register(\"Password\", {required: true, pattern: /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[#$@!%&*?])[A-Za-z\\d#$@!%&*?]{8,30}$/, minLength: 8, maxLength: 30})} />\r\n             <br/> {errors.Password && errors.Password.type === \"required\" && <span className=\"error\">Password is required</span>}\r\n             {errors.Password && errors.Password.type === \"pattern\" && <span className=\"error\">Password must have min 1 uppercase letter, min 1 lowercase letter, min 1 special character, min 1 number, min 8 characters, max 30 characters.</span> }\r\n             <br/> \r\n                 <div className=\"radioInput\">\r\n                 <span>Are you a developer?</span>  <br/>\r\n                     <label htmlFor=\"Developer\">1. Yes</label> <input  {...register(\"Developer\", { required: true })} type=\"radio\" value=\"Yes\" /> <br/>\r\n                     <label htmlFor=\"Developer\">2. No</label> <input {...register(\"Developer\", { required: true })} type=\"radio\" value=\"No\" /> \r\n                 </div>\r\n             <br/>\r\n \r\n             <input className=\"input\" value=\"Submit\" type=\"submit\" />\r\n         </div>\r\n     </form>\r\n      : \r\n     <form onSubmit={handleSubmit(onSubmit)}>\r\n        <div className=\"newUserForm\">\r\n            <input className=\"input\" type=\"text\" placeholder=\"Email\" {...register(\"email\", {required: true})} />    \r\n            <br/>{errors.email && errors.email.type === \"required\" && <span className=\"error\">Email is required</span>}\r\n            <br/>\r\n            <input className=\"input\" type=\"password\" placeholder=\"Password\" {...register(\"password\", {required: true})} />\r\n            <br/> {errors.password && errors.password.type === \"required\" && <span className=\"error\">Password is required</span>}\r\n            <br/>\r\n            <input className=\"input\" value=\"Submit\" type=\"submit\" />\r\n        </div>\r\n    </form>\r\n     } <br/>\r\n     <p style={{textAlign: 'center'}}>Already have an account? <span style={{color: 'blue'}} onClick={() => setNewUser(!newUser)}>Log In</span></p>\r\n   </div>\r\n  );\r\n}\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}